

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Common util &mdash; CryptPad 3.20.1 documentation</title>
  

  
  <link rel="icon" type="image/png" href="../../_static/images/main-favicon.png" id="favicon"/>
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/open-sans.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cptools.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/fontawesome.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cp-overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Client" href="../client.html" />
    <link rel="prev" title="Common hash" href="common-hash.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
            <a href="../../index.html" class="icon icon-home">
              <img src="../../_static/images/sidebar-logo.png" class="logo" alt="Logo"/>
              <div class="icon-title">CryptPad</div>
              <span class="release">3.20.1</span>
            </a>
            
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
          
        </div>

        <div class="wy-side-nav-language-selector">
        	<p class="caption-text">
	        	<select id="language-selector-container">
	        		<option value="en">English</option>
	        		<option value="fr">Français</option>
	        	</select>
        	</p>
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../user_guide/index.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/instances.html">CryptPad instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/user_account.html">User Account</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/user_account.html#account-types">Account types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#non-registered-user">Non-registered user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#logged-in-user">Logged in user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#premium-user">Premium user</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/user_account.html#account-management">Account management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#registration">Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#logging-in">Logging in</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/user_account.html#settings">Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#account">Account</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#confidentiality">Confidentiality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#cryptdrive">CryptDrive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#cursor">Cursor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#rich-text">Rich Text</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#code">Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/user_account.html#subscription">Subscription</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/user_account.html#support">Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/user_account.html#notifications">Notifications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/security.html">Security</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/security.html#passwords-for-documents-and-folders">Passwords for documents and folders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/security.html#remote-disconnect">Remote Disconnect</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/drive.html">Drive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/drive.html#display">Display</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/drive.html#managing-documents">Managing documents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/drive.html#folders">Folders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/drive.html#renaming">Renaming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/drive.html#deleting">Deleting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/drive.html#cryptdrive-history">CryptDrive history</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/drive.html#tags">Tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/drive.html#templates">Templates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/collaboration.html">Collaboration / Social</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/collaboration.html#profile">Profile</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#personal-profile">Personal profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#user-profile">User profile</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/collaboration.html#contacts">Contacts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#add-a-contact">Add a contact</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#manage-contacts">Manage contacts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#chat-with-contacts">Chat with contacts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/collaboration.html#teams">Teams</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#team-drive">Team Drive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#team-members">Team members</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#invite-members">Invite members</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#roles-and-permissions">Roles and permissions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#administration">Administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#chat">Chat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/collaboration.html#administration-tab">Administration tab</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/share_and_access.html">Share / Access</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/share_and_access.html#share">Share</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#access-rights">Access rights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#sharing-with-contacts">Sharing with contacts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#sharing-a-link">Sharing a link</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#embedding">Embedding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#shared-folders">Shared folders</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/share_and_access.html#access">Access</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#access-tab">Access tab</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#access-list">Access List</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/share_and_access.html#owners">Owners</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/applications.html">Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/general.html">General</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/general.html#new-document">New document</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/general.html#saving">Saving</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/general.html#make-a-copy">Make a copy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/general.html#document-history">Document history</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/general.html#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/general.html#users-and-chat">Users and chat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/richtext.html">Rich Text</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/richtext.html#toolbar">Toolbar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/richtext.html#import-export">Import/Export</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/richtext.html#comments">Comments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/sheets.html">Spreadsheets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/sheets.html#documentation">Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/sheets.html#import-export">Import/Export</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/code.html">Code / Markdown</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/code.html#toolbar">Toolbar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/code.html#theme">Theme</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/code.html#import-export">Import/Export</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/code.html#markdown">Markdown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/code.html#images">Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/code.html#lightbox">Lightbox</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/slides.html">Slides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/slides.html#toolbar">Toolbar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/slides.html#writing-slides-with-markdown">Writing slides with Markdown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/slides.html#theme">Theme</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/slides.html#import-export">Import/Export</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/slides.html#images">Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/slides.html#lightbox">Lightbox</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/poll.html">Poll</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/poll.html#toolbar">Toolbar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/poll.html#edit-mode">Edit mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/poll.html#voting">Voting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/poll.html#export">Export</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/kanban.html">Kanban</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/kanban.html#organisation">Organisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/kanban.html#columns">Columns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/kanban.html#cards">Cards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/kanban.html#card-editor">Card editor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/kanban.html#display">Display</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/kanban.html#import-export">Import/Export</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../user_guide/apps/whiteboard.html">Whiteboard</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/whiteboard.html#toolbar">Toolbar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/whiteboard.html#drawing">Drawing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/whiteboard.html#paint-mode">Paint mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/whiteboard.html#select-mode">Select mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../user_guide/apps/whiteboard.html#export">Export</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin_guide/index.html">Administrator Guide (in progress)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developer Guide (in progress)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../setup.html">Instance locale de développement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../setup.html#prerequis">Prérequis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup.html#cache-et-compilation-important">Cache et compilation (important)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup.html#lancement-en-mode-developpement">Lancement en mode développement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html">Contribuer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contribute.html#licence">Licence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribute.html#git">Git</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../contribute.html#pull-requests">Pull requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contribute.html#branches">Branches</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contribute.html#avant-de-contribuer">Avant de contribuer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basics.html">Points fondamentaux de CryptPad</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basics.html#zero-knowledge">Zero-knowledge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../basics.html#donnees-visibles-par-le-serveur">Données visibles par le serveur</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basics.html#zero-knowledge-dans-cryptpad">Zero-knowledge dans CryptPad</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../basics.html#content-security-policy-csp-et-securite">Content Security Policy (CSP) et sécurité</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics.html#personnalisation">Personnalisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics.html#architecture-du-code">Architecture du code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basics.html#cles-de-traduction">Clés de traduction</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../code.html">Code</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../general.html">Généralités</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general.html#les-urls-safe-et-unsafe">Les URLs “safe” et “unsafe”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general.html#structure-en-5-niveaux">Structure en 5 niveaux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general.html#chiffrement">Chiffrement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general.html#drive-et-journal-de-pins">Drive et journal de “pins”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../general.html#exemple">Exemple</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../general.html#inscription-connexion-et-block">Inscription, connexion et block</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../general.html#exemple-2">Exemple</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../general.html#communication-client-serveur-netflux">Communication client-serveur (Netflux)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../general.html#cote-serveur">Côté serveur</a></li>
<li class="toctree-l5"><a class="reference internal" href="../general.html#cote-client">Côté client</a></li>
<li class="toctree-l5"><a class="reference internal" href="../general.html#exemple-3">Exemple</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="../common.html">Common</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="crypto.html">chainpad-crypto</a></li>
<li class="toctree-l4"><a class="reference internal" href="common-hash.html">Common hash</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Common util</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../client.html">Client</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../client/architecture.html">Architecture client</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/architecture.html#worker">Worker</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/architecture.html#outer">Outer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/architecture.html#inner">Inner</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../client/chainpad.html">ChainPad et Listmap</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/chainpad.html#chainpad">ChainPad</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/chainpad.html#checkpoints">Checkpoints</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/chainpad.html#chainpad-avec-des-objets">ChainPad avec des objets</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/chainpad.html#chainpad-netflux">Chainpad-netflux</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/chainpad.html#listmap">Listmap</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../client/requirejs.html">RequireJS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/requirejs.html#utilisation">Utilisation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/requirejs.html#cache">Cache</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/requirejs.html#config">Config</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/requirejs.html#requirecss-requireless">RequireCSS, RequireLess</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../client/translations.html">Utiliser les clés de traduction</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/translations.html#utilisation">Utilisation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/translations.html#structure">Structure</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../client/framework.html">Framework</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/framework.html#www-common-sframe-app-outer-js">www/common/sframe-app-outer.js</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/framework.html#www-common-sframe-app-framework-js">www/common/sframe-app-framework.js</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/framework.html#customize-dist-src-less2-include-framework-less">customize.dist/src/less2/include/framework.less</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../client/worker.html">Worker</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/worker.html#async-store-js-et-modules">async-store.js et modules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/worker.html#commandes-de-lobjet-store">Commandes de l’objet “Store”</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/worker.html#liste-des-modules-et-objet-store">Liste des modules et objet “store”</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../client/outer.html">Outer</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/outer.html#communication-entre-les-niveaux">Communication entre les niveaux</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/outer.html#communication-avec-inner-sframe-common-outer">Communication avec inner - sframe-common-outer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/outer.html#communication-avec-le-worker-cryptpad-common">Communication avec le worker - cryptpad-common</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/outer.html#autres-fichiers-notables">Autres fichiers notables</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../client/inner.html">Inner</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../client/inner.html#fonctionnement">Fonctionnement</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/inner.html#sframe-common">Sframe-common</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/inner.html#metadata-manager">metadata-manager</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/inner.html#localstore">localStore</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/inner.html#mailbox">mailbox</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/inner.html#modules-dinterface">Modules d’interface</a></li>
<li class="toctree-l5"><a class="reference internal" href="../client/inner.html#modules-additionnels">Modules additionnels</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server.html">Server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_contribute.html">How to contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../how_to_contribute.html#spread-the-word">Spread the word</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../how_to_contribute.html#report-bugs">Report bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../how_to_contribute.html#translate-cryptpad">Translate CryptPad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../how_to_contribute.html#contribute-to-the-code">Contribute to the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../how_to_contribute.html#financial-support">Financial support</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

	<!-- start top banner area (for fundraisers or messages)

	<div style="text-align: center; background-color: #333">
		<a href="https://krita.org/en/fundraising-2018-campaign/" target="_self" onclick="ga('send', 'event', 'frontpage', 'button', 'Fundraiser 2018');">
			<img src="https://krita.org/wp-content/themes/krita-org-theme/images/decoration/2018-fundraiser-banner.png" style="max-width: 100%">
		</a>
	</div>
	
	 end top banner area -->

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CryptPad</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Index</a> &raquo;</li>
        
          <li><a href="../index.html">Developer Guide</a> &raquo;</li>
        
          <li><a href="../code.html">Code</a> &raquo;</li>
        
          <li><a href="../common.html">Common</a> &raquo;</li>
        
      <li>Common util</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/dev_guide/common/common-util.rst.txt" rel="nofollow"> 
             
              <img src="../../_static/images/source-code.png" />
             <!-- View page source -->

          </a>
          
        
      </li>
    
  </ul>

  
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="common-util">
<h1>Common util<a class="headerlink" href="#common-util" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">./www/common/common-util.js</span></code></p>
<dl class="py function">
<dt id="slice">
<code class="sig-name descname">slice</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#slice" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">Array.prototype.slice.call</span></code> which allows the use of the Array &quot;slice&quot; method on any Array-like structure like a Uint8Array (from cryptographic tools) or a NodeList (from <code class="docutils literal notranslate"><span class="pre">document.querySeletorAll</span></code>). The result is always a classic Array.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arr</strong> -- Array-like element (list)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bake">
<code class="sig-name descname">bake</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bake" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Get a function with no arguments which will call the provided function with the provided arguments.</p>
<div class="line-block">
<div class="line">Example: <code class="docutils literal notranslate"><span class="pre">Util.bake(LocalStore.logout,</span> <span class="pre">cb)</span></code> returns <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">()</span> <span class="pre">{</span> <span class="pre">LocalStore.logout(cb);</span> <span class="pre">}</span></code></div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> -- Function to call</p></li>
<li><p><strong>args</strong> -- Arguments to call the function with</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>function</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="both">
<code class="sig-name descname">both</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">g</span></em><span class="sig-paren">)</span><a class="headerlink" href="#both" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Get a function &quot;h&quot; that will call both f (first) and g (second) with the arguments provided to the new function (h).</p>
<div class="line-block">
<div class="line">Example: <code class="docutils literal notranslate"><span class="pre">var</span> <span class="pre">h</span> <span class="pre">=</span> <span class="pre">Util.both(f,</span> <span class="pre">g);</span> <span class="pre">h(false,</span> <span class="pre">true)</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">f(false,</span> <span class="pre">true);</span> <span class="pre">g(false,</span> <span class="pre">true);</span></code></div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> -- First function to call</p></li>
<li><p><strong>g</strong> -- Second function to call</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>function</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#clone" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">JSON.parse(JSON.stringify(obj))</span></code> used to clone (recursively) a JavaScript object.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> -- Object to clone</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tryParse">
<code class="sig-name descname">tryParse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tryParse" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Parse the provided string as an object with <code class="docutils literal notranslate"><span class="pre">JSON.parse</span></code> but catch exceptions and return <code class="docutils literal notranslate"><span class="pre">undefined</span></code> instead.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- Stringified object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Object or undefined</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mkAsync">
<code class="sig-name descname">mkAsync</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mkAsync" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Get an asynchronous version of the provided function.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> -- Function</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Function</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mkEvent">
<code class="sig-name descname">mkEvent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">once</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mkEvent" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Handle &quot;events&quot; in the code which are not attached to an element and are easier to handle than native events. The &quot;evt&quot; object returned contains 3 methods:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">evt.reg(f)</span></code> registers a handler &quot;f&quot; on the event, similar to <code class="docutils literal notranslate"><span class="pre">element.addEventListener</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">evt.fire(args)</span></code> triggers the event and calls all the handlers, similar to <code class="docutils literal notranslate"><span class="pre">element.dispatchEvent(new</span> <span class="pre">Event())</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">evt.unreg(f)</span></code> removes a handler registered for this event, similar to <code class="docutils literal notranslate"><span class="pre">removeEventListener</span></code></div>
</div>
<p>A <strong>once</strong> flag can be used to force the event to be triggered only once. In this case, every handler registered after the event has been fired will be called instantly.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>once</strong> -- Boolean (default false)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Object {reg, fire, unreg}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mkTimeout">
<code class="sig-name descname">mkTimeout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">ms</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mkTimeout" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Create a function that needs to be called before &quot;ms&quot; milliseconds. This function will call &quot;f&quot; with the provided arguments. If it's not called before the end of the timer, &quot;f&quot; will be called with &quot;TIEMOUT&quot; as first argument.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> -- Function to englobe with a timeout</p></li>
<li><p><strong>ms</strong> -- Timeout in milliseconds</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Function</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="response">
<code class="sig-name descname">response</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">errorHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#response" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Provide a &quot;response&quot; object to handle responses when sending queries using &quot;txid&quot; (transaction id). The returned object contains the following methods:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">response.expect(id,</span> <span class="pre">f,</span> <span class="pre">ms)</span></code> creates a &quot;pending&quot; callback with the provided &quot;id&quot;. When a response is received with this id, &quot;f&quot; is called. &quot;ms&quot; is an optional timeout.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">response.handle(id,</span> <span class="pre">args)</span></code> triggers the pending callback associated with the provided &quot;id&quot; if it exists. The callback &quot;f&quot; added with <code class="docutils literal notranslate"><span class="pre">expect</span></code> will be called with the provided &quot;args&quot;.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">response.clear(id)</span></code> removes the pending callback for the provided &quot;id&quot;.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">response.expected(id)</span></code> returns the current state if a given &quot;id&quot; (true if still pending, false if already called).</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">response.expectation(id)</span></code> returns the pending callback associated to the provided &quot;id&quot;.</div>
</div>
<p>&quot;errorHandler&quot; is called when &quot;handling&quot; an &quot;id&quot; that isn't linked to any pending callback.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>errorHandler</strong> -- Error handler (function)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Object {expect, handle, clear, expected, expectation}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">map</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#find" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Safely find a sub-element of a JavaScript object (plain object or array). If the path leads to an undefined element at any point, the script stops and returns <code class="docutils literal notranslate"><span class="pre">undefined</span></code> without throwing.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>map</strong> -- JavaScript object</p></li>
<li><p><strong>path</strong> -- Path to explore in the given map</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Element located to the given path in the map or &quot;undefined&quot;</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="uid">
<code class="sig-name descname">uid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#uid" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Get a short alphanumeric random string that can be used as an id for various elements.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Random string of 10 characters maximum</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fixHTML">
<code class="sig-name descname">fixHTML</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fixHTML" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Escape the provided string to make sure HTML tags can't be rendered. Escaped characters are &lt;, &gt;, &amp;, &quot; and '.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- A string containing HTML tags</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A string with escaped HTML tags</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hexToBase64">
<code class="sig-name descname">hexToBase64</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hexToBase64" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a hexadecimal string into a base64 string.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- Hexadecimal string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Base64-encoded string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="base64ToHex">
<code class="sig-name descname">base64ToHex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#base64ToHex" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a base64 string into a hexadecimal string.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- Base64-encoded string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Hexadecimal string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="uint8ArrayToHex">
<code class="sig-name descname">uint8ArrayToHex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bytes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#uint8ArrayToHex" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert an array of bytes into a hexadecimal string.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bytes</strong> -- Uint8Array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Hexadecimal string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hexToUint8Array">
<code class="sig-name descname">hexToUint8Array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hexToUint8Array" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a hexadecimal string into an array of bytes.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- Hexadecimal string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Uint8Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="uint8ArrayJoin">
<code class="sig-name descname">uint8ArrayJoin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#uint8ArrayJoin" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Concat all the Uint8Array items of the given array.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arr</strong> -- Array&lt;Uint8Array&gt;</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Uint8Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="escapeKeyCharacters">
<code class="sig-name descname">escapeKeyCharacters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#escapeKeyCharacters" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Replace the &quot;/&quot; characters from the base64 encoded encryption keys with a &quot;-&quot;.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- Base64-encoded string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Escaped base64 string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="unescapeKeyCharacters">
<code class="sig-name descname">unescapeKeyCharacters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bytes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#unescapeKeyCharacters" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Replace the &quot;-&quot; characters from the escaped base64 encoded string with a &quot;/&quot;.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- Escaped base64 string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Base64-encoded string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deduplicateString">
<code class="sig-name descname">deduplicateString</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deduplicateString" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Make a copy of the provided array and remove duplicates. The initial array is not modified. The &quot;===&quot; operator is used to detect duplicates so this function will work with more types than &quot;strings&quot;.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arr</strong> -- Array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fixFileName">
<code class="sig-name descname">fixFileName</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fixFileName" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>From a given &quot;name&quot;, provide a safe file name. Spaces are replaced with &quot;-&quot; and slashes are replaced with &quot;_&quot;.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- Unsafe file name (string)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>File name (string)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bytesToGigabytes">
<code class="sig-name descname">bytesToGigabytes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bytes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bytesToGigabytes" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a number of bytes into a number of gigabytes.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bytes</strong> -- Number of bytes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Number of gigabytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bytesToMegabytes">
<code class="sig-name descname">bytesToMegabytes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bytes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bytesToMegabytes" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a number of bytes into a number of megabytes.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bytes</strong> -- Number of bytes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Number of megabytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bytesToKilobytes">
<code class="sig-name descname">bytesToKilobytes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bytes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bytesToKilobytes" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a number of bytes into a number of kilobytes.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bytes</strong> -- Number of bytes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Number of kilobytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="magnitudeOfBytes">
<code class="sig-name descname">magnitudeOfBytes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bytes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#magnitudeOfBytes" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Provided the best unit to use (GB or MB) based on the provided number of bytes.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bytes</strong> -- Number of bytes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Unit of size (GB or MB)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fetch">
<code class="sig-name descname">fetch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">cb</span></em>, <em class="sig-param"><span class="n">progress</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fetch" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Download a specified file using XHR. The &quot;cb&quot; callback uses two arguments <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">(error,</span> <span class="pre">data)</span></code> and is called when the file is downloaded or if an error occurs. The <strong>data</strong> is provided as a Uint8Array.</p>
<p>If provided, the <code class="docutils literal notranslate"><span class="pre">progress</span> <span class="pre">=</span> <span class="pre">function</span> <span class="pre">(percent)</span></code> function will be called while downloading the file, based on the native &quot;progress&quot; event of the XHR system. The progress value is a number between 0 and 1.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> -- URL of the file to download</p></li>
<li><p><strong>cb</strong> -- <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">(error,</span> <span class="pre">data)</span></code> to call on error or success</p></li>
<li><p><strong>progress</strong> -- (Optional) <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">(percent)</span></code> called on progress update</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataURIToBlob">
<code class="sig-name descname">dataURIToBlob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataURI</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataURIToBlob" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a base64 data URI into a Blob javascript object.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dataURI</strong> -- base64 data</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Blob</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="throttle">
<code class="sig-name descname">throttle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">ms</span></em><span class="sig-paren">)</span><a class="headerlink" href="#throttle" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Englobe the provided <strong>f</strong> function in a wrapper. The new function (wrapper) will call &quot;f&quot; after the given &quot;ms&quot; delay. Each call of the new function will restart the timer to the given &quot;ms&quot;.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> -- Function to call</p></li>
<li><p><strong>ms</strong> -- Delay before calling the function</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Function wrapper</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="notAgainForAnother">
<code class="sig-name descname">notAgainForAnother</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">ms</span></em><span class="sig-paren">)</span><a class="headerlink" href="#notAgainForAnother" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Englobe the provided <strong>f</strong> function in a wrapper. The new function (wrapper) will call &quot;f&quot; unless it has already been called in the last &quot;ms&quot; milliseconds. If the function is prevented, the wrapper will return the time remaining before the next possible call.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> -- Function to call</p></li>
<li><p><strong>ms</strong> -- Minimum delay between each call</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Function wrapper</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="createRandomInteger">
<code class="sig-name descname">createRandomInteger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#createRandomInteger" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Provided a random integer between 0 and Number.MAX_SAFE_INTEGER (the maximum number guaranteed to be available in JavaScript, &quot;2^53 - 1&quot;).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Random number</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="noop">
<code class="sig-name descname">noop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#noop" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Empty function</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Function <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">()</span> <span class="pre">{}</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="once">
<code class="sig-name descname">once</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">g</span></em><span class="sig-paren">)</span><a class="headerlink" href="#once" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Englobe the provided <strong>f</strong> function in a wrapper. The new function calls &quot;f&quot; and makes sure it's only called once. When <strong>g</strong> is provided and &quot;f&quot; has already been called, the wrapper will call &quot;g&quot; instead.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> -- Function to call once</p></li>
<li><p><strong>g</strong> -- (Optional) Function to call after &quot;f&quot;</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Function wrapper</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="blobToImage">
<code class="sig-name descname">blobToImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">blob</span></em>, <em class="sig-param"><span class="n">cb</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blobToImage" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert a blob object into a base64 data URI.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blob</strong> -- Blob</p></li>
<li><p><strong>cb</strong> -- Callback <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">(dataURI)</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="blobURLToImage">
<code class="sig-name descname">blobURLToImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">cb</span></em><span class="sig-paren">)</span><a class="headerlink" href="#blobURLToImage" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Download the blob located at the given URL and convert it into a base64 data URI.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> -- Blob to download</p></li>
<li><p><strong>cb</strong> -- Callback <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">(dataURI)</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="isObject">
<code class="sig-name descname">isObject</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span><a class="headerlink" href="#isObject" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Check if the provided element is a plain object (in the JavaScript definition).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>o</strong> -- Element to check</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="isCircular">
<code class="sig-name descname">isCircular</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span><a class="headerlink" href="#isCircular" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Check if the provided element is a circular object.</p>
<p>NOTE: Circular objects can't be stringified.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>o</strong> -- Element to check</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#extend" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Recursively add the properties of object <strong>b</strong> to object <strong>a</strong>. If an object is in Array (a, b or one of their properties), a shallow copy is made so references to the original items might still be present.</p>
<div class="line-block">
<div class="line">Example: If &quot;a&quot; and &quot;b&quot; are objects and <code class="docutils literal notranslate"><span class="pre">b.item</span> <span class="pre">=</span> <span class="pre">[{&quot;pew&quot;:</span> <span class="pre">&quot;pez&quot;},</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4];</span></code>, when using extend, <code class="docutils literal notranslate"><span class="pre">a.item</span> <span class="pre">!==</span> <span class="pre">b.item</span></code> but <code class="docutils literal notranslate"><span class="pre">a.item[0]</span> <span class="pre">===</span> <span class="pre">b.item[0]</span></code>.</div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> -- Object to extend</p></li>
<li><p><strong>b</strong> -- Object to &quot;merge&quot; into &quot;a&quot;</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="isChecked">
<code class="sig-name descname">isChecked</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">el</span></em><span class="sig-paren">)</span><a class="headerlink" href="#isChecked" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Check if the provided &quot;checkbox input&quot; is checked or not. The provided element &quot;el&quot; can be a native DOM element or a jQuery object.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>el</strong> -- Element or jQuery object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hexToRGB">
<code class="sig-name descname">hexToRGB</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hex</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hexToRGB" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert an hexadecimal color (with or without '#') into &quot;rgb&quot; decimal values as an array <code class="docutils literal notranslate"><span class="pre">[RRR,</span> <span class="pre">GGG,</span> <span class="pre">BBB]</span></code>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hex</strong> -- Color string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="isSmallScreen">
<code class="sig-name descname">isSmallScreen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#isSmallScreen" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Check if the available screen size represents a &quot;small&quot; screen. Small screens have either their &quot;width&quot; or their &quot;height&quot; smaller than 800px.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="stripTags">
<code class="sig-name descname">stripTags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#stripTags" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Completely remove the HTML tags from the provided string. The text inside those tags is preserved, along with the text outside or any tag.</p>
<div class="line-block">
<div class="line">Example: <code class="docutils literal notranslate"><span class="pre">stripTags(&quot;Test</span> <span class="pre">&lt;div&gt;pewpew&lt;/div&gt;</span> <span class="pre">test&quot;);</span> <span class="pre">//</span> <span class="pre">returns</span> <span class="pre">&quot;Test</span> <span class="pre">pewpew</span> <span class="pre">test&quot;</span></code></div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- String containing HTML tags</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>String wihtout HTML tags</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="parseFileName">
<code class="sig-name descname">parseFileName</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#parseFileName" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Parse a given file name to get an object with its name and its extension separated.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> -- File name with its extension (string)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Object {name, ext}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="isPlainTextFile">
<code class="sig-name descname">isPlainTextFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#isPlainTextFile" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Check if a file is a plain text file from its MIME type or its extension.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> -- MIME type</p></li>
<li><p><strong>name</strong> -- File name with its extension (string)</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="getFirstCharacter">
<code class="sig-name descname">getFirstCharacter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#getFirstCharacter" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Return the first character of a given string. This function work with complex unicode characters like emojis.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> -- String</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>First character</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../client.html" class="btn btn-neutral float-right" title="Client" accesskey="n" rel="next"> <!-- Next --> <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common-hash.html" class="btn btn-neutral" title="Common hash" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> <!-- Previous  -->  </a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, CryptPad Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a modified <a href="https://github.com/rtfd/sphinx_rtd_theme">RTD theme</a>.<br/>
  <a href="https://cryptpad.fr" title="CryptPad flagship instance">CryptPad flagship instance</a> |
  <a href="#" title="The Gitlab instance to edit this pages and collaborate.">Git repository for docs.cryptpad.fr </a>
  . 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'3.20.1',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>